{"version":3,"sources":["app.tsx","report-web-vitals.ts","index.tsx"],"names":["unityContext","UnityContext","loaderUrl","dataUrl","frameworkUrl","codeUrl","App","useState","isUnityMounted","setIsUnityMounted","rotationSpeed","setRotationSpeed","cubeRotation","setCubeRotation","x","y","clickPosition","setClickPosition","saidMessage","setSaidMessage","handleOnUnityCanvas","canvas","setAttribute","handleOnUnityLoaded","console","log","handleOnUnityRotationDidUpdate","degrees","Math","round","handleOnUnityClickedPosition","handleOnUnitySayMessage","message","useEffect","on","removeAllEventListeners","send","className","onClick","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","rootElement","document","getElementById","render"],"mappings":"kPAUMA,EAAe,IAAIC,eAAa,CACpCC,UAAW,kCACXC,QAAS,6BACTC,aAAc,qCACdC,QAAS,+BA+GIC,MA3Gf,WAEE,MAA4CC,oBAAkB,GAA9D,mBAAOC,EAAP,KAAuBC,EAAvB,KACA,EAA0CF,mBAAiB,IAA3D,mBAAOG,EAAP,KAAsBC,EAAtB,KACA,EAAwCJ,mBAAiB,GAAzD,mBAAOK,EAAP,KAAqBC,EAArB,KACA,EAA0CN,mBAAkB,CAAEO,EAAG,EAAGC,EAAG,IAAvE,mBAAOC,EAAP,KAAsBC,EAAtB,KACA,EAAsCV,mBAAiB,WAAvD,mBAAOW,EAAP,KAAoBC,EAApB,KAqBA,SAASC,EAAoBC,GAC3BA,EAAOC,aAAa,OAAQ,eAI9B,SAASC,IACPC,QAAQC,IAAI,gBAKd,SAASC,EAA+BC,GACtCd,EAAgBe,KAAKC,MAAMF,IAK7B,SAASG,EAA6BhB,EAAWC,GAC/CE,EAAiB,CAAEH,IAAGC,MAKxB,SAASgB,EAAwBC,GAC/Bb,EAAea,GAoBjB,OA9DAC,qBAAU,WAOR,OANAjC,EAAakC,GAAG,SAAUd,GAC1BpB,EAAakC,GAAG,SAAUX,GAC1BvB,EAAakC,GAAG,oBAAqBR,GACrC1B,EAAakC,GAAG,kBAAmBJ,GACnC9B,EAAakC,GAAG,MAAOH,GAEhB,WACL/B,EAAamC,6BAEd,IAGHF,qBAAU,WACRjC,EAAaoC,KAAK,YAAa,mBAAoB1B,KAClD,CAACA,IAgDF,cAAC,WAAD,UACE,sBAAK2B,UAAU,UAAf,UAEE,wDACA,uPAOA,wBAAQC,QAjBd,WACE7B,GAAmBD,IAgBf,6BACA,wBAAQ8B,QA7Bd,WACE3B,EAAiBD,EAAgB,KA4B7B,4BACA,wBAAQ4B,QAzBd,WACE3B,EAAiBD,EAAgB,KAwB7B,6BAEoB,IAAnBF,GACC,eAAC,WAAD,WACE,qBAAK6B,UAAU,kBAAf,SACE,cAAC,IAAD,CAAOA,UAAU,eAAerC,aAAcA,MAGhD,qDACsB,4BAAIY,IAD1B,WAEE,uBAFF,cAGa,mCAAMI,EAAcF,KAHjC,KAGyC,mCAAME,EAAcD,KAC3D,uBAJF,sBAKqB,kCAAKG,EAAL,OALrB,gBC1FGqB,EAlBS,SAAUC,GAC5BA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAMtB,IALFC,EAKC,EALDA,OACAC,EAIC,EAJDA,OACAC,EAGC,EAHDA,OACAC,EAEC,EAFDA,OACAC,EACC,EADDA,QAEAJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCVRQ,G,MAAcC,SAASC,eAAe,SAG5CC,iBACE,cAAC,aAAD,UACE,cAAC,EAAD,MAEFH,GAIFT,EAAgBf,QAAQC,O","file":"static/js/main.a970b89a.chunk.js","sourcesContent":["import \"./app.css\";\nimport { Fragment, useEffect, useState } from \"react\";\nimport Unity, { UnityContext } from \"react-unity-webgl\";\n\ninterface Vector2 {\n  x: number;\n  y: number;\n}\n\n// This is the context that Unity will use to communicate with the React app.\nconst unityContext = new UnityContext({\n  loaderUrl: \"unitybuild/myunityapp.loader.js\",\n  dataUrl: \"unitybuild/myunityapp.data\",\n  frameworkUrl: \"unitybuild/myunityapp.framework.js\",\n  codeUrl: \"unitybuild/myunityapp.wasm\",\n});\n\n// This is the React component that will be rendering the Unity app.\nfunction App() {\n  // The app's state.\n  const [isUnityMounted, setIsUnityMounted] = useState<boolean>(true);\n  const [rotationSpeed, setRotationSpeed] = useState<number>(30);\n  const [cubeRotation, setCubeRotation] = useState<number>(0);\n  const [clickPosition, setClickPosition] = useState<Vector2>({ x: 0, y: 0 });\n  const [saidMessage, setSaidMessage] = useState<string>(\"Nothing\");\n\n  // When the component is mounted, we'll register some event listener.\n  useEffect(() => {\n    unityContext.on(\"canvas\", handleOnUnityCanvas);\n    unityContext.on(\"loaded\", handleOnUnityLoaded);\n    unityContext.on(\"RotationDidUpdate\", handleOnUnityRotationDidUpdate);\n    unityContext.on(\"ClickedPosition\", handleOnUnityClickedPosition);\n    unityContext.on(\"Say\", handleOnUnitySayMessage);\n    // When the component is unmounted, we'll unregister the event listener.\n    return function () {\n      unityContext.removeAllEventListeners();\n    };\n  }, []);\n\n  // When the rotation speed has been updated, it will be sent to Unity.\n  useEffect(() => {\n    unityContext.send(\"MeshCrate\", \"SetRotationSpeed\", rotationSpeed);\n  }, [rotationSpeed]);\n\n  // Built-in event invoked when the Unity canvas is ready to be interacted with.\n  function handleOnUnityCanvas(canvas: HTMLCanvasElement) {\n    canvas.setAttribute(\"role\", \"unityCanvas\");\n  }\n\n  // Built-in event invoked when the Unity app is loaded.\n  function handleOnUnityLoaded() {\n    console.log(\"Unity loaded\");\n  }\n\n  // Custom event invoked when the Unity app sends a message indicating that the\n  // rotation has changed.\n  function handleOnUnityRotationDidUpdate(degrees: number) {\n    setCubeRotation(Math.round(degrees));\n  }\n\n  // Custom event invoked when the Unity app sends a message indicating that the\n  // mouse click position has changed.\n  function handleOnUnityClickedPosition(x: number, y: number) {\n    setClickPosition({ x, y });\n  }\n\n  // Custom event invoked when the Unity app sends a message including something\n  // it said.\n  function handleOnUnitySayMessage(message: string) {\n    setSaidMessage(message);\n  }\n\n  // Event invoked when the user clicks the button, the speed will be increased.\n  function handleOnClickIncreaseSpeed() {\n    setRotationSpeed(rotationSpeed + 15);\n  }\n\n  // Event invoked when the user clicks the button, the speed will be decreased.\n  function handleOnClickDecreaseSpeed() {\n    setRotationSpeed(rotationSpeed - 15);\n  }\n\n  // Event invoked when the user clicks the button, the unity container will be\n  // mounted or unmounted depending on the current mounting state.\n  function handleOnClickUnMountUnity() {\n    setIsUnityMounted(!isUnityMounted);\n  }\n\n  // This is the React component that will be rendering the Unity app.\n  return (\n    <Fragment>\n      <div className=\"wrapper\">\n        {/* Introduction text */}\n        <h1>React Unity WebGL Test</h1>\n        <p>\n          In this React Application we'll explore the possibilities with the\n          React Unity WebGL Module. Use the built-in events, custom events,\n          mount, unmount, press the buttons and resize the view to see the magic\n          in action.\n        </p>\n        {/* Some buttons to interact */}\n        <button onClick={handleOnClickUnMountUnity}>(Un)mount Unity</button>\n        <button onClick={handleOnClickIncreaseSpeed}>Increase speed</button>\n        <button onClick={handleOnClickDecreaseSpeed}>Decrease speed</button>\n        {/* The Unity app */}\n        {isUnityMounted === true && (\n          <Fragment>\n            <div className=\"unity-container\">\n              <Unity className=\"unity-canvas\" unityContext={unityContext} />\n            </div>\n            {/* Displaying some output values */}\n            <p>\n              The cube is rotated <b>{cubeRotation}</b> degrees\n              <br />\n              Clicked at <b>x {clickPosition.x}</b>, <b>y {clickPosition.y}</b>\n              <br />\n              The Unity app said <b>\"{saidMessage}\"</b>!\n            </p>\n          </Fragment>\n        )}\n      </div>\n    </Fragment>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from \"web-vitals\";\n\n// report web vitals\nconst reportWebVitals = function (onPerfEntry?: ReportHandler) {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(function ({\n      getCLS,\n      getFID,\n      getFCP,\n      getLCP,\n      getTTFB,\n    }) {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { StrictMode } from \"react\";\nimport { render } from \"react-dom\";\nimport App from \"./app\";\nimport reportWebVitals from \"./report-web-vitals\";\nimport \"./index.css\";\n\nconst rootElement = document.getElementById(\"root\");\n\n// renders the app onto the document\nrender(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  rootElement\n);\n\n// enable measuring performance of the app onto the console\nreportWebVitals(console.log);\n"],"sourceRoot":""}